<div>
    @{
        if (Model != null)
        {
            <div class="container">
                <div class="row">
                    <form id="myForm">

                        <div class="row">
                            <a href="@Url.Action("SearchItemForm2B", null, new { area = string.Empty, controller = "Home" }, Request.Url.Scheme)">
                                <div class="col-md-2 add-border return-button">
                                    <i class="fa fa-angle-double-left"></i>
                                    <i>Return to Records</i>
                                </div>
                            </a>
                        </div>
                        <br />
                        
                        <div class="col-md-12">
                            <br />
                            <p class="h3"><strong>Civil Registry Form No. 2B</strong></p>
                            <p class="h4">(Death-not Available)</p>
                            <br />
                        </div>

                        <div class="row add-border">

                            <div class="col-md-4">
                                <div class="col-md-12 add-border">
                                    <p class="h4"><strong>Transaction Details</strong></p><br />
                                    <div class="form-group">
                                        <label>Issued To</label>
                                        <input type="text" value="@Model.issued_name" id="issued_name" class="form-control" />
                                    </div>
                                    <div class="form-group">
                                        <label>Officer Name</label>
                                        <input type="text" value="@Model.officer_name" id="officer_name" class="form-control" />
                                    </div>
                                    <div class="form-group">
                                        <label>Officer Title</label>
                                        <input type="text" value="@Model.officer_title" id="officer_title" class="form-control" />
                                    </div>
                                    <div class="form-group">
                                        <label>Verifier Name</label>
                                        <input type="text" value="@Model.verifier_name" id="verifier_name" class="form-control" />
                                    </div>
                                    <div class="form-group">
                                        <label>Verifier Title</label>
                                        <input type="text" value="@Model.verifier_title" id="verifier_title" class="form-control" />
                                    </div>
                                    <div class="form-group">
                                        <label>Amount Paid</label>
                                        <input type="text" value="@Model.payment" id="payment" class="form-control" />
                                    </div>
                                    <div class="form-group">
                                        <label>O.R. Number</label>
                                        <input type="text" value="@Model.or_no" id="or_no" class="form-control" />
                                    </div>
                                    <div class="form-group">
                                        <label>Date Paid</label>
                                        <input type="text" value="@Model.date_paid.ToString("MM-dd-yyyy")" id="date_paid" class="form-control datepicker" />
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-8">
                                <div class="col-md-12 add-border">
                                    <p class="h4"><strong>Form Details</strong></p><br />
                                    <div class="col-md-12 form-group">
                                        <label>Date</label>
                                        <input type="text" value="@Model.entry.ToString("MM-dd-yyyy")" id="entry" class="form-control" readonly />
                                    </div>
                                    <div class="col-md-12 form-group">
                                        <label>Name</label>
                                        <input type="text" value="@Model.name" id="name" class="form-control" />
                                    </div>
                                    <div class="col-md-12 form-group">
                                        <label>Date of Death</label>
                                        <input type="text" value="@Model.date_of_death.ToString("MM-dd-yyyy")" id="date_of_death" class="form-control datepicker" />
                                    </div>
                                    <div class="col-md-12 form-group">
                                        <label>Records of Death for Year</label>
                                        <input type="text" value="@Model.year" id="year" class="form-control" />
                                    </div>
                                </div>
                            </div>
                        </div>

                        <br /><br />
                        <div class="row">
                            <div class="col-md-3 " style="float:right;">
                                <div class="col-md-12">
                                    <div id="filename" style="display: none;">@Model.filename</div>
                                    <input type="button" value="Update" class="btn btn-block btn-primary" id="btnUpdate" />
                                </div>
                            </div>
                        </div>


                    </form>
                </div>
            </div>

        }
        else
        {
            @*<div>error</div>*@
        }
    }
</div>
<script src="~/Scripts/jquery-3.4.1.min.js"></script>
<script src="~/Scripts/jquery-ui.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/js/bootstrap-datepicker.min.js"></script>

<script type="text/javascript">
    var optSimple = {
        format: 'mm-dd-yyyy',
        todayHighlight: true,
        orientation: 'bottom right',
        autoclose: true,
        inline: true,
    };
    $('.datepicker').datepicker(optSimple);

    $('#btnUpdate').click(function () {

        var issued_name = $('#issued_name').val();
        var officer_name = $('#officer_name').val();
        var officer_title = $('#officer_title').val();
        var verifier_name = $('#verifier_name').val();
        var verifier_title = $('#verifier_title').val();
        var payment = $('#payment').val();
        var or_no = $('#or_no').val();
        var date_paid = $('#date_paid').val();
        var name = $('#name').val();
        var date_of_death = $('#date_of_death').val();
        var year = $('#year').val();
        var filename = $('#filename').text();


        $.ajax({
            url: '/Home/UpdateItemForm2B',
            type: 'get',
            data: {
                issued_name: issued_name,
                officer_name: officer_name,
                officer_title: officer_title,
                verifier_name: verifier_name,
                verifier_title: verifier_title,
                payment: payment,
                or_no: or_no,
                date_paid: date_paid,
                name: name,
                date_of_death: date_of_death,
                year: year,
                filename: filename
            },
            success: function (data) {
                location.replace("/Home/SearchItemForm2B");
            }
        });
    });

</script>